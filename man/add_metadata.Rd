% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SNPData-methods.R
\name{add_metadata}
\alias{add_metadata}
\alias{add_barcode_metadata}
\alias{add_snp_metadata}
\title{Add metadata to SNPData barcode_info or snp_info}
\usage{
add_barcode_metadata(
  x,
  metadata,
  join_by = "cell_id",
  overwrite = FALSE,
  validate = TRUE
)

add_snp_metadata(
  x,
  metadata,
  join_by = "snp_id",
  overwrite = FALSE,
  validate = TRUE
)
}
\arguments{
\item{x}{A SNPData object}

\item{metadata}{A data.frame containing new columns to add to barcode_info or snp_info}

\item{join_by}{Character string specifying the column name to join by.
For barcode_info: "cell_id" or "barcode"
For snp_info: "snp_id"}

\item{overwrite}{Logical, whether to overwrite existing columns (default FALSE).
Set to TRUE to update existing columns in barcode_info or snp_info.}

\item{validate}{Logical, whether to validate that all rows have matches (default TRUE).
Set to FALSE when adding partial data (subset of barcodes or SNPs).}
}
\value{
A SNPData object with updated barcode_info or snp_info
}
\description{
These functions provide a standardized interface for adding new columns
to the barcode_info or snp_info data frames of a SNPData object. The functions
ensure data integrity by validating dimensions and preserving automatically
computed summary statistics.
}
\examples{
\dontrun{
# Add new columns to barcode_info
new_barcode_info <- data.frame(
  cell_id = c("cell_1", "cell_2"),
  cell_type = c("T_cell", "B_cell"),
  treatment = c("control", "treated")
)
updated_snpdata <- add_barcode_metadata(snpdata, new_barcode_info)

# Update existing columns in barcode_info by setting overwrite=TRUE
clonotype_info <- data.frame(
  cell_id = c("cell_1", "cell_2"),
  clonotype = c("clonotype_1", "clonotype_2")
)
updated_snpdata <- add_barcode_metadata(
  snpdata,
  clonotype_info,
  overwrite = TRUE
)

# Add columns to barcode_info for subset of cells (validate=FALSE)
partial_barcode_info <- data.frame(
  cell_id = c("cell_1", "cell_2"),
  annotation = c("A", "B")
)
updated_snpdata <- add_barcode_metadata(
  snpdata,
  partial_barcode_info,
  validate = FALSE
)

# Add new columns to snp_info
new_snp_info <- data.frame(
  snp_id = c("snp_1", "snp_2"),
  gene_name = c("GENE1", "GENE2"),
  gene_biotype = c("protein_coding", "lncRNA")
)
updated_snpdata <- add_snp_metadata(snpdata, new_snp_info)
}

}
